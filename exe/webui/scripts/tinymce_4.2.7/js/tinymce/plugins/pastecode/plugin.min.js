// Paste Code Plugin for TinyMCE
// By Ignacio Gros (http://www.gros.es/) for eXeLearning (http://exelearning.net/)
// Creative Commons Attribution-ShareAlike (http://creativecommons.org/licenses/by-sa/4.0/)
jQuery(document).ready(function($) {

	tinymce.PluginManager.add('pastecode', function(editor, url) {
		
		editor.addButton('pastecode', {
			image: url + '/img/pastecode.gif',
			tooltip: _('Insert HTML code as text'),
			onclick: open_pastecode
		});
		
		editor.addMenuItem('pastecode', {
			// icon: 'image',
			text: _('Insert HTML code as text'),
			onclick: open_pastecode,
			context: 'insert'
		});
		
        editor.on('init', function(e) {
            editor.dom.loadCSS(url + "/css/content.css");
        });		
		
		function open_pastecode() {
			
			editor.windowManager.open({
				title: _('Insert HTML code as text'),
				width: 700,
				height: 285,
				url: url+'/pastecode.html'				
			});
		}
		
	});
	
	tinymce.PluginManager.requireLangPack('pastecode');
	
});